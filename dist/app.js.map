{"version":3,"sources":["../server/app.js"],"names":["connect","useMongoClient","console","log","app","folder","__dirname","get","req","res","sendFile","join","use","static","json"],"mappings":"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","file":"app.js","sourcesContent":["import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport expressJWT from 'express-jwt';\r\nimport jwt from 'jsonwebtoken';\r\nimport path from 'path';\r\nimport cors from 'cors';\r\nimport qt from 'quickthumb';\r\n\r\nimport secret from './secret';\r\n\r\nimport routes from './routes';\r\n\r\nmongoose.connect('mongodb://localhost:27017/eng_proj', {\r\n  useMongoClient: true\r\n}, () => {\r\n  console.log('Connected to mongodb');\r\n});\r\n\r\nconst app = express();\r\n\r\n// Public folder\r\nconst folder = __dirname + \"/app/\";\r\n\r\napp.get('/', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/signup', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/signup/student', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/signup/teacher', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/profile', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/profile/msg', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/group/:id', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/group/:id/newtask', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/settings', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/profile/newgroup', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/stats', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/login', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/forgotpassword', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/recover/:token', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/info/rules', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\napp.get('/task/:id', (req, res) => {\r\n    res.sendFile(path.join(folder + \"index.html\"));\r\n});\r\n\r\napp.use(qt.static(__dirname + '/'));\r\napp.use('/', express.static(folder));\r\napp.use('/signup', express.static(folder));\r\napp.use('/signup/student', express.static(folder));\r\napp.use('/signup/teacher', express.static(folder));\r\napp.use('/profile', express.static(folder));\r\napp.use('/group', express.static(folder));\r\napp.use('/group/:id', express.static(folder));\r\napp.use('/task', express.static(folder));\r\napp.use('/task/:id', express.static(folder));\r\napp.use('/recover', express.static(folder));\r\napp.use('/recover/:token', express.static(folder));\r\napp.use('/info', express.static(folder));\r\napp.use('/info/rules', express.static(folder));\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use('/api', routes);\r\n// app.use(expressJWT({ secret: secret }).unless({ path: ['api/login', '/'] }));\r\n\r\nexport default app;\r\n"]}