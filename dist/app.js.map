{"version":3,"sources":["../server/app.js"],"names":["connect","useMongoClient","console","log","app","whitelist","corsOptions","origin","callback","indexOf","Error","use","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;AAEA,mBAASA,OAAT,CAAiB,oCAAjB,EAAuD;AACrDC,oBAAgB;AADqC,CAAvD,EAEG,YAAM;AACPC,YAAQC,GAAR,CAAY,sBAAZ;AACD,CAJD;;AAMA,IAAMC,MAAM,wBAAZ;;AAEA;AACA,IAAIC,YAAY,CAAC,yBAAD,EAA4B,sBAA5B,CAAhB;AACA,IAAIC,cAAc;AACdC,YAAQ,gBAAUA,OAAV,EAAkBC,QAAlB,EAA4B;AAChC,YAAIH,UAAUI,OAAV,CAAkBF,OAAlB,MAA8B,CAAC,CAAnC,EAAsC;AAClCC,qBAAS,IAAT,EAAe,IAAf;AACH,SAFD,MAEO;AACHA,qBAAS,IAAIE,KAAJ,CAAU,qBAAV,CAAT;AACH;AACJ;AAPa,CAAlB;AASAN,IAAIO,GAAJ,CAAQ,oBAAKL,WAAL,CAAR;AACAF,IAAIO,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAR,IAAIO,GAAJ,CAAQ,MAAR;;kBAEeP,G","file":"app.js","sourcesContent":["import express from 'express';\nimport mongoose from 'mongoose';\nimport bodyParser from 'body-parser';\nimport expressJWT from 'express-jwt';\nimport jwt from 'jsonwebtoken';\nimport path from 'path';\nimport cors from 'cors';\n\nimport secret from './secret';\n\nimport routes from './routes';\n\nmongoose.connect('mongodb://localhost:27017/eng_proj', {\n  useMongoClient: true\n}, () => {\n  console.log('Connected to mongodb');\n});\n\nconst app = express();\n\n// Middleware\nvar whitelist = ['http://cf82612.tmweb.ru', 'http://easylexlab.ru'];\nvar corsOptions = {\n    origin: function (origin, callback) {\n        if (whitelist.indexOf(origin) !== -1) {\n            callback(null, true)\n        } else {\n            callback(new Error('Not allowed by CORS'))\n        }\n    }\n}\napp.use(cors(corsOptions));\napp.use(bodyParser.json());\napp.use('/api', routes);\n\nexport default app;\n"]}