{"version":3,"sources":["../../../server/app/scripts/app.js"],"names":["$","window","app","name","version","color","setting","theme","primary","accent","warn","folded","boxed","container","themeID","bg","storage","localStorage","isEmpty","set","get","v","location","search","substring","split","i","length","n","setTheme","removeClass","attr","addClass","prop","document","on","e","$this","$target","parent","is","val","eval","setColor","getColor","palette","find","init","uiJp","uiInclude","modal","remove","collapse","jQuery"],"mappings":"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","file":"app.js","sourcesContent":["(function ($) {\r\n\t'use strict';\r\n\r\n\t  window.app = {\r\n      name: 'Flatkit',\r\n      version: '1.1.3',\r\n      // for chart colors\r\n      color: {\r\n        'primary':      '#0cc2aa',\r\n        'accent':       '#a88add',\r\n        'warn':         '#fcc100',\r\n        'info':         '#6887ff',\r\n        'success':      '#6cc788',\r\n        'warning':      '#f77a99',\r\n        'danger':       '#f44455',\r\n        'white':        '#ffffff',\r\n        'light':        '#f1f2f3',\r\n        'dark':         '#2e3e4e',\r\n        'black':        '#2a2b3c'\r\n      },\r\n      setting: {\r\n        theme: {\r\n    \t\t\tprimary: 'primary',\r\n    \t\t\taccent: 'accent',\r\n    \t\t\twarn: 'warn'\r\n        },\r\n        color: {\r\n\t        primary:      '#0cc2aa',\r\n\t        accent:       '#a88add',\r\n\t        warn:         '#fcc100'\r\n    \t  },\r\n        folded: false,\r\n        boxed: false,\r\n        container: false,\r\n        themeID: 1,\r\n        bg: ''\r\n      }\r\n    };\r\n\r\n    var setting = 'jqStorage-'+app.name+'-Setting',\r\n        storage = $.localStorage;\r\n    \r\n    if( storage.isEmpty(setting) ){\r\n        storage.set(setting, app.setting);\r\n    }else{\r\n        app.setting = storage.get(setting);\r\n    }\r\n    var v = window.location.search.substring(1).split('&');\r\n    for (var i = 0; i < v.length; i++)\r\n    {\r\n        var n = v[i].split('=');\r\n        app.setting[n[0]] = (n[1] == \"true\" || n[1]== \"false\") ? (n[1] == \"true\") : n[1];\r\n        storage.set(setting, app.setting);\r\n    }\r\n\r\n    // init\r\n    function setTheme(){\r\n\r\n      $('body').removeClass($('body').attr('ui-class')).addClass(app.setting.bg).attr('ui-class', app.setting.bg);\r\n      app.setting.folded ? $('#aside').addClass('folded') : $('#aside').removeClass('folded');\r\n      app.setting.boxed ? $('body').addClass('container') : $('body').removeClass('container');\r\n\r\n      $('.switcher input[value=\"'+app.setting.themeID+'\"]').prop('checked', true);\r\n      $('.switcher input[value=\"'+app.setting.bg+'\"]').prop('checked', true);\r\n\r\n      $('[data-target=\"folded\"] input').prop('checked', app.setting.folded);\r\n      $('[data-target=\"boxed\"] input').prop('checked', app.setting.boxed);\r\n      \r\n    }\r\n\r\n    // click to switch\r\n    $(document).on('click.setting', '.switcher input', function(e){\r\n      var $this = $(this), $target;\r\n      $target = $this.parent().attr('data-target') ? $this.parent().attr('data-target') : $this.parent().parent().attr('data-target');\r\n      app.setting[$target] = $this.is(':checkbox') ? $this.prop('checked') : $(this).val();\r\n      ($(this).attr('name')=='color') && (app.setting.theme = eval('[' +  $(this).parent().attr('data-value') +']')[0]) && setColor();\r\n      storage.set(setting, app.setting);\r\n      setTheme(app.setting);\r\n    });\r\n\r\n    function setColor(){\r\n      app.setting.color = {\r\n        primary: getColor( app.setting.theme.primary ),\r\n        accent: getColor( app.setting.theme.accent ),\r\n        warn: getColor( app.setting.theme.warn )\r\n      };\r\n    };\r\n\r\n    function getColor(name){\r\n      return app.color[ name ] ? app.color[ name ] : palette.find(name);\r\n    };\r\n\r\n    function init(){\r\n      $('[ui-jp]').uiJp();\r\n      $('body').uiInclude();\r\n    }\r\n\r\n    $(document).on('pjaxStart', function() {\r\n        $('#aside').modal('hide');\r\n        $('body').removeClass('modal-open').find('.modal-backdrop').remove();\r\n        $('.navbar-toggleable-sm').collapse('hide');\r\n    });\r\n    \r\n    init();\r\n    setTheme();\r\n\r\n})(jQuery);\r\n"]}