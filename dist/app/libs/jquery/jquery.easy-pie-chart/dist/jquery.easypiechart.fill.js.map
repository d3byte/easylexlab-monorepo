{"version":3,"sources":["../../../../../../server/app/libs/jquery/jquery.easy-pie-chart/dist/jquery.easypiechart.fill.js"],"names":["root","factory","define","amd","a0","exports","module","require","jQuery","$","CanvasRenderer","el","options","cachedBackground","canvas","document","createElement","appendChild","G_vmlCanvasManager","initElement","ctx","getContext","width","height","size","scaleBy","window","devicePixelRatio","style","join","scale","translate","rotate","Math","PI","radius","lineWidth","scaleColor","scaleLength","Date","now","drawCircle","color","percent","min","max","isNegative","beginPath","arc","strokeStyle","fill","fillStyle","stroke","drawScale","offset","length","save","i","fillRect","restore","reqAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","drawBackground","trackColor","trackWidth","getCanvas","getCtx","clear","clearRect","draw","getImageData","putImageData","lineCap","barColor","bind","animate","from","to","startTime","onStart","animation","process","duration","currentValue","easing","onStep","onStop","EasyPieChart","opts","defaultOptions","undefined","enabled","x","t","b","c","d","renderer","SVGRenderer","Error","init","hasOwnProperty","isFunction","dataset","update","parseFloat","getAttribute","newValue","disableAnimation","enableAnimation","fn","easyPieChart","each","instanceOptions","data","attr","find","remove","extend"],"mappings":"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","file":"jquery.easypiechart.fill.js","sourcesContent":["/**!\r\n * easy-pie-chart\r\n * Lightweight plugin to render simple, animated and retina optimized pie charts\r\n *\r\n * @license \r\n * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)\r\n * @version 2.1.7\r\n **/\r\n\r\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module unless amdModuleId is set\r\n    define([\"jquery\"], function (a0) {\r\n      return (factory(a0));\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    module.exports = factory(require(\"jquery\"));\r\n  } else {\r\n    factory(jQuery);\r\n  }\r\n}(this, function ($) {\r\n\r\n/**\r\n * Renderer to render the chart on a canvas object\r\n * @param {DOMElement} el      DOM element to host the canvas (root of the plugin)\r\n * @param {object}     options options object of the plugin\r\n */\r\nvar CanvasRenderer = function(el, options) {\r\n  var cachedBackground;\r\n  var canvas = document.createElement('canvas');\r\n\r\n  el.appendChild(canvas);\r\n\r\n  if (typeof(G_vmlCanvasManager) === 'object') {\r\n    G_vmlCanvasManager.initElement(canvas);\r\n  }\r\n\r\n  var ctx = canvas.getContext('2d');\r\n\r\n  canvas.width = canvas.height = options.size;\r\n\r\n  // canvas on retina devices\r\n  var scaleBy = 1;\r\n  if (window.devicePixelRatio > 1) {\r\n    scaleBy = window.devicePixelRatio;\r\n    canvas.style.width = canvas.style.height = [options.size, 'px'].join('');\r\n    canvas.width = canvas.height = options.size * scaleBy;\r\n    ctx.scale(scaleBy, scaleBy);\r\n  }\r\n\r\n  // move 0,0 coordinates to the center\r\n  ctx.translate(options.size / 2, options.size / 2);\r\n\r\n  // rotate canvas -90deg\r\n  ctx.rotate((-1 / 2 + options.rotate / 180) * Math.PI);\r\n\r\n  var radius = (options.size - options.lineWidth) / 2;\r\n  if (options.scaleColor && options.scaleLength) {\r\n    radius -= options.scaleLength + 2; // 2 is the distance between scale and bar\r\n  }\r\n\r\n  // IE polyfill for Date\r\n  Date.now = Date.now || function() {\r\n    return +(new Date());\r\n  };\r\n\r\n  /**\r\n   * Draw a circle around the center of the canvas\r\n   * @param {strong} color     Valid CSS color string\r\n   * @param {number} lineWidth Width of the line in px\r\n   * @param {number} percent   Percentage to draw (float between -1 and 1)\r\n   */\r\n  var drawCircle = function(color, lineWidth, percent) {\r\n    percent = Math.min(Math.max(-1, percent || 0), 1);\r\n    var isNegative = percent <= 0 ? true : false;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(0, 0, radius, 0, Math.PI * 2 * percent, isNegative);\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = lineWidth;\r\n\r\n    // custom\r\n    if (options.fill) {\r\n      ctx.fillStyle = options.fill;\r\n      ctx.fill();\r\n    }\r\n\r\n    ctx.stroke();\r\n  };\r\n\r\n  /**\r\n   * Draw the scale of the chart\r\n   */\r\n  var drawScale = function() {\r\n    var offset;\r\n    var length;\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.fillStyle = options.scaleColor;\r\n\r\n    ctx.save();\r\n    for (var i = 24; i > 0; --i) {\r\n      if (i % 6 === 0) {\r\n        length = options.scaleLength;\r\n        offset = 0;\r\n      } else {\r\n        length = options.scaleLength * 0.6;\r\n        offset = options.scaleLength - length;\r\n      }\r\n      ctx.fillRect(-options.size/2 + offset, 0, length, 1);\r\n      ctx.rotate(Math.PI / 12);\r\n    }\r\n    ctx.restore();\r\n  };\r\n\r\n  /**\r\n   * Request animation frame wrapper with polyfill\r\n   * @return {function} Request animation frame method or timeout fallback\r\n   */\r\n  var reqAnimationFrame = (function() {\r\n    return  window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        function(callback) {\r\n          window.setTimeout(callback, 1000 / 60);\r\n        };\r\n  }());\r\n\r\n  /**\r\n   * Draw the background of the plugin including the scale and the track\r\n   */\r\n  var drawBackground = function() {\r\n    if(options.scaleColor) drawScale();\r\n    if(options.trackColor) drawCircle(options.trackColor, options.trackWidth || options.lineWidth, 1);\r\n  };\r\n\r\n  /**\r\n    * Canvas accessor\r\n   */\r\n  this.getCanvas = function() {\r\n    return canvas;\r\n  };\r\n\r\n  /**\r\n    * Canvas 2D context 'ctx' accessor\r\n   */\r\n  this.getCtx = function() {\r\n    return ctx;\r\n  };\r\n\r\n  /**\r\n   * Clear the complete canvas\r\n   */\r\n  this.clear = function() {\r\n    ctx.clearRect(options.size / -2, options.size / -2, options.size, options.size);\r\n  };\r\n\r\n  /**\r\n   * Draw the complete chart\r\n   * @param {number} percent Percent shown by the chart between -100 and 100\r\n   */\r\n  this.draw = function(percent) {\r\n    // do we need to render a background\r\n    if (!!options.scaleColor || !!options.trackColor) {\r\n      // getImageData and putImageData are supported\r\n      if (ctx.getImageData && ctx.putImageData) {\r\n        if (!cachedBackground) {\r\n          drawBackground();\r\n          cachedBackground = ctx.getImageData(0, 0, options.size * scaleBy, options.size * scaleBy);\r\n        } else {\r\n          ctx.putImageData(cachedBackground, 0, 0);\r\n        }\r\n      } else {\r\n        this.clear();\r\n        drawBackground();\r\n      }\r\n    } else {\r\n      this.clear();\r\n    }\r\n\r\n    ctx.lineCap = options.lineCap;\r\n\r\n    // if barcolor is a function execute it and pass the percent as a value\r\n    var color;\r\n    if (typeof(options.barColor) === 'function') {\r\n      color = options.barColor(percent);\r\n    } else {\r\n      color = options.barColor;\r\n    }\r\n\r\n    // draw bar\r\n    drawCircle(color, options.lineWidth, percent / 100);\r\n  }.bind(this);\r\n\r\n  /**\r\n   * Animate from some percent to some other percentage\r\n   * @param {number} from Starting percentage\r\n   * @param {number} to   Final percentage\r\n   */\r\n  this.animate = function(from, to) {\r\n    var startTime = Date.now();\r\n    options.onStart(from, to);\r\n    var animation = function() {\r\n      var process = Math.min(Date.now() - startTime, options.animate.duration);\r\n      var currentValue = options.easing(this, process, from, to - from, options.animate.duration);\r\n      this.draw(currentValue);\r\n      options.onStep(from, to, currentValue);\r\n      if (process >= options.animate.duration) {\r\n        options.onStop(from, to);\r\n      } else {\r\n        reqAnimationFrame(animation);\r\n      }\r\n    }.bind(this);\r\n\r\n    reqAnimationFrame(animation);\r\n  }.bind(this);\r\n};\r\n\r\nvar EasyPieChart = function(el, opts) {\r\n  var defaultOptions = {\r\n    barColor: '#ef1e25',\r\n    trackColor: '#f9f9f9',\r\n    scaleColor: '#dfe0e0',\r\n    scaleLength: 5,\r\n    lineCap: 'round',\r\n    lineWidth: 3,\r\n    trackWidth: undefined,\r\n    size: 110,\r\n    rotate: 0,\r\n    // custom\r\n    fill: '',\r\n    animate: {\r\n      duration: 1000,\r\n      enabled: true\r\n    },\r\n    easing: function (x, t, b, c, d) { // more can be found here: http://gsgd.co.uk/sandbox/jquery/easing/\r\n      t = t / (d/2);\r\n      if (t < 1) {\r\n        return c / 2 * t * t + b;\r\n      }\r\n      return -c/2 * ((--t)*(t-2) - 1) + b;\r\n    },\r\n    onStart: function(from, to) {\r\n      return;\r\n    },\r\n    onStep: function(from, to, currentValue) {\r\n      return;\r\n    },\r\n    onStop: function(from, to) {\r\n      return;\r\n    }\r\n  };\r\n\r\n  // detect present renderer\r\n  if (typeof(CanvasRenderer) !== 'undefined') {\r\n    defaultOptions.renderer = CanvasRenderer;\r\n  } else if (typeof(SVGRenderer) !== 'undefined') {\r\n    defaultOptions.renderer = SVGRenderer;\r\n  } else {\r\n    throw new Error('Please load either the SVG- or the CanvasRenderer');\r\n  }\r\n\r\n  var options = {};\r\n  var currentValue = 0;\r\n\r\n  /**\r\n   * Initialize the plugin by creating the options object and initialize rendering\r\n   */\r\n  var init = function() {\r\n    this.el = el;\r\n    this.options = options;\r\n\r\n    // merge user options into default options\r\n    for (var i in defaultOptions) {\r\n      if (defaultOptions.hasOwnProperty(i)) {\r\n        options[i] = opts && typeof(opts[i]) !== 'undefined' ? opts[i] : defaultOptions[i];\r\n        if (typeof(options[i]) === 'function') {\r\n          options[i] = options[i].bind(this);\r\n        }\r\n      }\r\n    }\r\n\r\n    // check for jQuery easing\r\n    if (typeof(options.easing) === 'string' && typeof(jQuery) !== 'undefined' && jQuery.isFunction(jQuery.easing[options.easing])) {\r\n      options.easing = jQuery.easing[options.easing];\r\n    } else {\r\n      options.easing = defaultOptions.easing;\r\n    }\r\n\r\n    // process earlier animate option to avoid bc breaks\r\n    if (typeof(options.animate) === 'number') {\r\n      options.animate = {\r\n        duration: options.animate,\r\n        enabled: true\r\n      };\r\n    }\r\n\r\n    if (typeof(options.animate) === 'boolean' && !options.animate) {\r\n      options.animate = {\r\n        duration: 1000,\r\n        enabled: options.animate\r\n      };\r\n    }\r\n\r\n    // create renderer\r\n    this.renderer = new options.renderer(el, options);\r\n\r\n    // initial draw\r\n    this.renderer.draw(currentValue);\r\n\r\n    // initial update\r\n    if (el.dataset && el.dataset.percent) {\r\n      this.update(parseFloat(el.dataset.percent));\r\n    } else if (el.getAttribute && el.getAttribute('data-percent')) {\r\n      this.update(parseFloat(el.getAttribute('data-percent')));\r\n    }\r\n  }.bind(this);\r\n\r\n  /**\r\n   * Update the value of the chart\r\n   * @param  {number} newValue Number between 0 and 100\r\n   * @return {object}          Instance of the plugin for method chaining\r\n   */\r\n  this.update = function(newValue) {\r\n    newValue = parseFloat(newValue);\r\n    if (options.animate.enabled) {\r\n      this.renderer.animate(currentValue, newValue);\r\n    } else {\r\n      this.renderer.draw(newValue);\r\n    }\r\n    currentValue = newValue;\r\n    return this;\r\n  }.bind(this);\r\n\r\n  /**\r\n   * Disable animation\r\n   * @return {object} Instance of the plugin for method chaining\r\n   */\r\n  this.disableAnimation = function() {\r\n    options.animate.enabled = false;\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Enable animation\r\n   * @return {object} Instance of the plugin for method chaining\r\n   */\r\n  this.enableAnimation = function() {\r\n    options.animate.enabled = true;\r\n    return this;\r\n  };\r\n\r\n  init();\r\n};\r\n\r\n$.fn.easyPieChart = function(options) {\r\n  return this.each(function() {\r\n    var instanceOptions;\r\n    if (!$.data(this, 'easyPieChart') || $(this).attr('data-redraw')) {\r\n      $(this).find('canvas').remove();\r\n      instanceOptions = $.extend({}, options, $(this).data());\r\n      $.data(this, 'easyPieChart', new EasyPieChart(this, instanceOptions));\r\n    } else{\r\n      $.data(this, 'easyPieChart').update( $(this).attr('data-percent') );\r\n    }\r\n  });\r\n};\r\n\r\n\r\n}));\r\n"]}