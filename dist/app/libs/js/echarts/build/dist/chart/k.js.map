{"version":3,"sources":["../../../../../../../../server/app/libs/js/echarts/build/dist/chart/k.js"],"names":["define","e","t","n","a","o","i","call","refresh","k","zlevel","z","clickable","hoverable","legendHoverLink","xAxisIndex","yAxisIndex","itemStyle","normal","color","color0","lineStyle","width","label","show","emphasis","r","prototype","type","CHART_TYPE_K","_buildShape","series","selectedMap","top","bottom","length","reformOption","component","xAxis","getAxis","COMPONENT_TYPE_AXIS_CATEGORY","getPosition","push","_buildSinglePosition","addShapeList","_mapData","locationMap","maxDataLength","_buildHorizontal","buildMark","legend","s","l","name","isSelected","Math","max","data","h","d","c","m","p","u","g","V","barWidth","floor","getGap","barMaxWidth","yAxis","U","y","getNameByIndex","getDataFromOption","getCoordByIndex","getCoord","_buildKLine","f","_","b","x","_isLarge","_getLargePointList","query","v","shapeList","_getCandle","grid","getWidth","deepQuery","style","strokeColor","lineWidth","brushType","highlightStyle","_seriesIndex","addLabel","pack","getMarkCoord","option","backupShapeList","addDataAnimation","get","zr","delShape","id","animate","when","position","done","start","inherits"],"mappings":"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","file":"k.js","sourcesContent":["define(\"echarts/chart/k\",[\"require\",\"./base\",\"../util/shape/Candle\",\"../component/axis\",\"../component/grid\",\"../component/dataZoom\",\"../config\",\"../util/ecData\",\"zrender/tool/util\",\"../chart\"],function(e){function t(e,t,n,a,o){i.call(this,e,t,n,a,o),this.refresh(a)}var i=e(\"./base\"),n=e(\"../util/shape/Candle\");e(\"../component/axis\"),e(\"../component/grid\"),e(\"../component/dataZoom\");var a=e(\"../config\");a.k={zlevel:0,z:2,clickable:!0,hoverable:!0,legendHoverLink:!1,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{color:\"#fff\",color0:\"#00aa11\",lineStyle:{width:1,color:\"#ff3200\",color0:\"#00aa11\"},label:{show:!1}},emphasis:{label:{show:!1}}}};var o=e(\"../util/ecData\"),r=e(\"zrender/tool/util\");return t.prototype={type:a.CHART_TYPE_K,_buildShape:function(){var e=this.series;this.selectedMap={};for(var t,i={top:[],bottom:[]},n=0,o=e.length;o>n;n++)e[n].type===a.CHART_TYPE_K&&(e[n]=this.reformOption(e[n]),this.legendHoverLink=e[n].legendHoverLink||this.legendHoverLink,t=this.component.xAxis.getAxis(e[n].xAxisIndex),t.type===a.COMPONENT_TYPE_AXIS_CATEGORY&&i[t.getPosition()].push(n));for(var r in i)i[r].length>0&&this._buildSinglePosition(r,i[r]);this.addShapeList()},_buildSinglePosition:function(e,t){var i=this._mapData(t),n=i.locationMap,a=i.maxDataLength;if(0!==a&&0!==n.length){this._buildHorizontal(t,a,n);for(var o=0,r=t.length;r>o;o++)this.buildMark(t[o])}},_mapData:function(e){for(var t,i,n=this.series,a=this.component.legend,o=[],r=0,s=0,l=e.length;l>s;s++)t=n[e[s]],i=t.name,this.selectedMap[i]=a?a.isSelected(i):!0,this.selectedMap[i]&&o.push(e[s]),r=Math.max(r,t.data.length);return{locationMap:o,maxDataLength:r}},_buildHorizontal:function(e,t,i){for(var n,a,o,r,s,l,h,d,c,m,p=this.series,u={},g=0,V=i.length;V>g;g++){n=i[g],a=p[n],o=a.xAxisIndex||0,r=this.component.xAxis.getAxis(o),h=a.barWidth||Math.floor(r.getGap()/2),m=a.barMaxWidth,m&&h>m&&(h=m),s=a.yAxisIndex||0,l=this.component.yAxis.getAxis(s),u[n]=[];for(var U=0,y=t;y>U&&null!=r.getNameByIndex(U);U++)d=a.data[U],c=this.getDataFromOption(d,\"-\"),\"-\"!==c&&4==c.length&&u[n].push([r.getCoordByIndex(U),h,l.getCoord(c[0]),l.getCoord(c[1]),l.getCoord(c[2]),l.getCoord(c[3]),U,r.getNameByIndex(U)])}this._buildKLine(e,u)},_buildKLine:function(e,t){for(var i,n,o,r,s,l,h,d,c,m,p,u,g,V,U,y,f,_=this.series,b=0,x=e.length;x>b;b++)if(f=e[b],p=_[f],V=t[f],this._isLarge(V)&&(V=this._getLargePointList(V)),p.type===a.CHART_TYPE_K&&null!=V){u=p,i=this.query(u,\"itemStyle.normal.lineStyle.width\"),n=this.query(u,\"itemStyle.normal.lineStyle.color\"),o=this.query(u,\"itemStyle.normal.lineStyle.color0\"),r=this.query(u,\"itemStyle.normal.color\"),s=this.query(u,\"itemStyle.normal.color0\"),l=this.query(u,\"itemStyle.emphasis.lineStyle.width\"),h=this.query(u,\"itemStyle.emphasis.lineStyle.color\"),d=this.query(u,\"itemStyle.emphasis.lineStyle.color0\"),c=this.query(u,\"itemStyle.emphasis.color\"),m=this.query(u,\"itemStyle.emphasis.color0\");for(var k=0,v=V.length;v>k;k++)U=V[k],g=p.data[U[6]],u=g,y=U[3]<U[2],this.shapeList.push(this._getCandle(f,U[6],U[7],U[0],U[1],U[2],U[3],U[4],U[5],y?this.query(u,\"itemStyle.normal.color\")||r:this.query(u,\"itemStyle.normal.color0\")||s,this.query(u,\"itemStyle.normal.lineStyle.width\")||i,y?this.query(u,\"itemStyle.normal.lineStyle.color\")||n:this.query(u,\"itemStyle.normal.lineStyle.color0\")||o,y?this.query(u,\"itemStyle.emphasis.color\")||c||r:this.query(u,\"itemStyle.emphasis.color0\")||m||s,this.query(u,\"itemStyle.emphasis.lineStyle.width\")||l||i,y?this.query(u,\"itemStyle.emphasis.lineStyle.color\")||h||n:this.query(u,\"itemStyle.emphasis.lineStyle.color0\")||d||o))}},_isLarge:function(e){return e[0][1]<.5},_getLargePointList:function(e){for(var t=this.component.grid.getWidth(),i=e.length,n=[],a=0;t>a;a++)n[a]=e[Math.floor(i/t*a)];return n},_getCandle:function(e,t,i,a,r,s,l,h,d,c,m,p,u,g,V){var U=this.series,y=U[e],f=y.data[t],_=[f,y],b={zlevel:y.zlevel,z:y.z,clickable:this.deepQuery(_,\"clickable\"),hoverable:this.deepQuery(_,\"hoverable\"),style:{x:a,y:[s,l,h,d],width:r,color:c,strokeColor:p,lineWidth:m,brushType:\"both\"},highlightStyle:{color:u,strokeColor:V,lineWidth:g},_seriesIndex:e};return b=this.addLabel(b,y,f,i),o.pack(b,y,e,f,t,i),b=new n(b)},getMarkCoord:function(e,t){var i=this.series[e],n=this.component.xAxis.getAxis(i.xAxisIndex),a=this.component.yAxis.getAxis(i.yAxisIndex);return[\"string\"!=typeof t.xAxis&&n.getCoordByIndex?n.getCoordByIndex(t.xAxis||0):n.getCoord(t.xAxis||0),\"string\"!=typeof t.yAxis&&a.getCoordByIndex?a.getCoordByIndex(t.yAxis||0):a.getCoord(t.yAxis||0)]},refresh:function(e){e&&(this.option=e,this.series=e.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(e,t){function i(){u--,0===u&&t&&t()}for(var n=this.series,a={},r=0,s=e.length;s>r;r++)a[e[r][0]]=e[r];for(var l,h,d,c,m,p,u=0,r=0,s=this.shapeList.length;s>r;r++)if(m=this.shapeList[r]._seriesIndex,a[m]&&!a[m][3]&&\"candle\"===this.shapeList[r].type){if(p=o.get(this.shapeList[r],\"dataIndex\"),c=n[m],a[m][2]&&p===c.data.length-1){this.zr.delShape(this.shapeList[r].id);continue}if(!a[m][2]&&0===p){this.zr.delShape(this.shapeList[r].id);continue}h=this.component.xAxis.getAxis(c.xAxisIndex||0).getGap(),l=a[m][2]?h:-h,d=0,u++,this.zr.animate(this.shapeList[r].id,\"\").when(this.query(this.option,\"animationDurationUpdate\"),{position:[l,d]}).done(i).start()}u||t&&t()}},r.inherits(t,i),e(\"../chart\").define(\"k\",t),t});"]}