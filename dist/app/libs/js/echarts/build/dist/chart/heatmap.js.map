{"version":3,"sources":["../../../../../../../../server/app/libs/js/echarts/build/dist/chart/heatmap.js"],"names":["define","e","t","n","a","o","i","call","refresh","r","heatmap","zlevel","z","clickable","prototype","type","CHART_TYPE_HEATMAP","clear","option","series","_init","backupShapeList","length","reformOption","s","getCanvas","data","zr","getWidth","getHeight","l","position","scale","hoverable","style","x","y","image","width","height","shapeList","push","addShapeList","inherits","blurSize","gradientColors","minAlpha","valueScale","opacity","_getBrush","_getGradient","document","createElement","h","getContext","m","V","d","U","p","c","u","Math","min","max","globalAlpha","drawImage","g","getImageData","b","f","floor","putImageData","_brushCanvas","shadowOffsetX","shadowBlur","shadowColor","beginPath","arc","PI","closePath","fill","_gradientPixels","createLinearGradient","addColorStop","offset","color","fillStyle","fillRect"],"mappings":"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","file":"heatmap.js","sourcesContent":["define(\"echarts/chart/heatmap\",[\"require\",\"./base\",\"../layer/heatmap\",\"../config\",\"../util/ecData\",\"zrender/tool/util\",\"zrender/tool/color\",\"zrender/shape/Image\",\"../chart\"],function(e){function t(e,t,n,a,o){i.call(this,e,t,n,a,o),this.refresh(a)}var i=e(\"./base\"),n=e(\"../layer/heatmap\"),a=e(\"../config\"),o=(e(\"../util/ecData\"),e(\"zrender/tool/util\")),r=(e(\"zrender/tool/color\"),e(\"zrender/shape/Image\"));return a.heatmap={zlevel:0,z:2,clickable:!0},t.prototype={type:a.CHART_TYPE_HEATMAP,refresh:function(e){this.clear(),e&&(this.option=e,this.series=e.series),this._init()},_init:function(){var e=this.series;this.backupShapeList();for(var t=e.length,i=0;t>i;++i)if(e[i].type===a.CHART_TYPE_HEATMAP){e[i]=this.reformOption(e[i]);var o=new n(e[i]),s=o.getCanvas(e[i].data,this.zr.getWidth(),this.zr.getHeight()),l=new r({position:[0,0],scale:[1,1],hoverable:this.option.hoverable,style:{x:0,y:0,image:s,width:s.width,height:s.height}});this.shapeList.push(l)}this.addShapeList()}},o.inherits(t,i),e(\"../chart\").define(\"heatmap\",t),t}),define(\"echarts/layer/heatmap\",[\"require\"],function(){function e(e){if(this.option=e,e)for(var i in t)this.option[i]=void 0!==e[i]?e[i]:t[i];else this.option=t}var t={blurSize:30,gradientColors:[\"blue\",\"cyan\",\"lime\",\"yellow\",\"red\"],minAlpha:.05,valueScale:1,opacity:1},i=20,n=256;return e.prototype={getCanvas:function(e,t,a){var o=this._getBrush(),r=this._getGradient(),s=i+this.option.blurSize,l=document.createElement(\"canvas\");l.width=t,l.height=a;for(var h=l.getContext(\"2d\"),m=e.length,V=0;m>V;++V){var d=e[V],U=d[0],p=d[1],c=d[2],u=Math.min(1,Math.max(c*this.option.valueScale||this.option.minAlpha,this.option.minAlpha));h.globalAlpha=u,h.drawImage(o,U-s,p-s)}for(var g=h.getImageData(0,0,l.width,l.height),y=g.data,m=y.length/4;m--;){var b=4*m+3,u=y[b]/256,f=Math.floor(u*(n-1));y[b-3]=r[4*f],y[b-2]=r[4*f+1],y[b-1]=r[4*f+2],y[b]*=this.option.opacity}return h.putImageData(g,0,0),l},_getBrush:function(){if(!this._brushCanvas){this._brushCanvas=document.createElement(\"canvas\");var e=i+this.option.blurSize,t=2*e;this._brushCanvas.width=t,this._brushCanvas.height=t;var n=this._brushCanvas.getContext(\"2d\");n.shadowOffsetX=t,n.shadowBlur=this.option.blurSize,n.shadowColor=\"black\",n.beginPath(),n.arc(-e,e,i,0,2*Math.PI,!0),n.closePath(),n.fill()}return this._brushCanvas},_getGradient:function(){if(!this._gradientPixels){var e=n,t=document.createElement(\"canvas\");t.width=1,t.height=e;for(var i=t.getContext(\"2d\"),a=i.createLinearGradient(0,0,0,e),o=this.option.gradientColors.length,r=0;o>r;++r)\"string\"==typeof this.option.gradientColors[r]?a.addColorStop((r+1)/o,this.option.gradientColors[r]):a.addColorStop(this.option.gradientColors[r].offset,this.option.gradientColors[r].color);i.fillStyle=a,i.fillRect(0,0,1,e),this._gradientPixels=i.getImageData(0,0,1,e).data}return this._gradientPixels}},e}),define(\"echarts/layer/heatmap\",[\"require\"],function(){function e(e){if(this.option=e,e)for(var i in t)this.option[i]=void 0!==e[i]?e[i]:t[i];else this.option=t}var t={blurSize:30,gradientColors:[\"blue\",\"cyan\",\"lime\",\"yellow\",\"red\"],minAlpha:.05,valueScale:1,opacity:1},i=20,n=256;return e.prototype={getCanvas:function(e,t,a){var o=this._getBrush(),r=this._getGradient(),s=i+this.option.blurSize,l=document.createElement(\"canvas\");l.width=t,l.height=a;for(var h=l.getContext(\"2d\"),m=e.length,V=0;m>V;++V){var d=e[V],U=d[0],p=d[1],c=d[2],u=Math.min(1,Math.max(c*this.option.valueScale||this.option.minAlpha,this.option.minAlpha));h.globalAlpha=u,h.drawImage(o,U-s,p-s)}for(var g=h.getImageData(0,0,l.width,l.height),y=g.data,m=y.length/4;m--;){var b=4*m+3,u=y[b]/256,f=Math.floor(u*(n-1));y[b-3]=r[4*f],y[b-2]=r[4*f+1],y[b-1]=r[4*f+2],y[b]*=this.option.opacity}return h.putImageData(g,0,0),l},_getBrush:function(){if(!this._brushCanvas){this._brushCanvas=document.createElement(\"canvas\");var e=i+this.option.blurSize,t=2*e;this._brushCanvas.width=t,this._brushCanvas.height=t;var n=this._brushCanvas.getContext(\"2d\");n.shadowOffsetX=t,n.shadowBlur=this.option.blurSize,n.shadowColor=\"black\",n.beginPath(),n.arc(-e,e,i,0,2*Math.PI,!0),n.closePath(),n.fill()}return this._brushCanvas},_getGradient:function(){if(!this._gradientPixels){var e=n,t=document.createElement(\"canvas\");t.width=1,t.height=e;for(var i=t.getContext(\"2d\"),a=i.createLinearGradient(0,0,0,e),o=this.option.gradientColors.length,r=0;o>r;++r)\"string\"==typeof this.option.gradientColors[r]?a.addColorStop((r+1)/o,this.option.gradientColors[r]):a.addColorStop(this.option.gradientColors[r].offset,this.option.gradientColors[r].color);i.fillStyle=a,i.fillRect(0,0,1,e),this._gradientPixels=i.getImageData(0,0,1,e).data}return this._gradientPixels}},e});"]}